"use strict";console.log(">> Ready :)");const searchText=document.querySelector(".js-input-search"),btnSearch=document.querySelector(".js-btn-search"),showContainer=document.querySelector(".js-list-all"),favContainer=document.querySelector(".js-list-favorites"),defaultImage="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let showList=[],favShowList=[];function renderShow(e){let o="",n="";return n=e.show.image&&e.show.image.original?e.show.image.original:defaultImage,o+=`<li class="js-list-each" id="${e.show.id}">\n  <img class="" src="${n}" alt="Portada de la serie" width=100 />\n  <p class="">${e.show.name}</p>\n  <div class="fa-solid fa-trash hidden"></div>\n  </li>`,console.log(e.show.id),o}function renderShows(e){showContainer.innerHTML="";for(const o of e)showContainer.innerHTML+=renderShow(o);addEventsToShow()}function renderFavShows(e){favContainer.innerHTML="";for(const o of e)favContainer.innerHTML+=renderShow(o);addEventsToShow()}function handleClickFavorite(e){e.preventDefault();const o=parseInt(e.currentTarget.id);console.log(o);let n=showList.find(e=>e.show.id===o);const t=favShowList.findIndex(e=>e.show.id===o);-1===t?favShowList.push(n):favShowList.splice(t,1),renderFavShows(favShowList)}function addEventsToShow(){const e=document.querySelectorAll(".js-list-each");console.log(e);for(const o of e)o.addEventListener("click",handleClickFavorite)}function handleClickSearch(e){const o=searchText.value;e.preventDefault(),fetch("//api.tvmaze.com/search/shows?q="+o).then(e=>e.json()).then(e=>{showList=e;renderShows(showList.filter(e=>e.show.name.toLowerCase().includes(o.toLowerCase()))),console.log(showList)})}btnSearch.addEventListener("click",handleClickSearch);